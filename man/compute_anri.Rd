% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/anri_functions.R
\name{compute_anri}
\alias{compute_anri}
\title{Compute ANRI (Adjusted Normalized Resolution Index)}
\usage{
compute_anri(data, confidence_bins, choosers_only = TRUE, lineup_size = 6)
}
\arguments{
\item{data}{A dataframe with the following columns:
\itemize{
  \item target_present: Logical. TRUE if guilty suspect in lineup
  \item identification: Character. "suspect", "filler", or "reject"
  \item confidence: Numeric. Confidence rating
}}

\item{confidence_bins}{Numeric vector of bin edges (required for ANRI)}

\item{choosers_only}{Logical. Whether to analyze only suspect IDs (default = TRUE)}

\item{lineup_size}{Integer. Lineup size (default = 6)}
}
\value{
A list containing:
  \itemize{
    \item anri: Adjusted Normalized Resolution Index
    \item nri: Original Normalized Resolution Index (unadjusted)
    \item n_total: Total sample size
    \item n_bins: Number of confidence bins
    \item calibration_data: Per-bin accuracy and sample sizes
    \item overall_accuracy: Mean accuracy
  }
}
\description{
Computes ANRI, a bias-corrected version of NRI following Yaniv et al. (1991).
ANRI adjusts NRI for the number of confidence bins and sample size, providing
more accurate estimates especially when J (bins) is small relative to N.
}
\details{
ANRI corrects NRI for small-sample and small-bin-count bias:

\deqn{NRI = \frac{\frac{1}{N} \sum_{j=1}^{J} n_j (a_j - \bar{a})^2}{\bar{a}(1-\bar{a})}}

\deqn{ANRI = \frac{N \cdot NRI - J + 1}{N - J + 1}}

Where:
\itemize{
  \item N = total sample size
  \item J = number of bins
  \item n_j = sample size in bin j
  \item a_j = accuracy (proportion correct) in bin j
  \item a_bar = overall accuracy
}

**When to use ANRI vs NRI:**
\itemize{
  \item Use ANRI when J is small (e.g., 3-5 bins)
  \item Use ANRI when N is modest (e.g., < 200)
  \item Use ANRI when comparing across different numbers of bins
  \item NRI is asymptotically unbiased as N approaches infinity
}

ANRI provides a less biased estimate of the population resolution, making it
more appropriate for hypothesis testing and group comparisons.
}
\references{
Yaniv, I., Yates, J. F., & Smith, J. E. K. (1991). Measures of discrimination
skill in probabilistic judgment. \emph{Psychological Bulletin, 110}(3), 611-617.

Juslin, P., Olsson, N., & Winman, A. (1996). Calibration and diagnosticity
of confidence in eyewitness identification. \emph{Journal of Experimental
Psychology: Learning, Memory, and Cognition, 22}(5), 1304-1316.
}
