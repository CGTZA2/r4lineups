% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bayes_curves_functions.R
\name{make_bayes_curves}
\alias{make_bayes_curves}
\title{Compute Bayesian Prior-Posterior and Information Gain Curves}
\usage{
make_bayes_curves(
  data,
  response_categories = c("simple", "confidence"),
  confidence_bins = NULL,
  prior_grid = seq(0.01, 0.99, 0.01)
)
}
\arguments{
\item{data}{A dataframe with the following columns:
\itemize{
  \item target_present: Logical. TRUE if guilty suspect in lineup
  \item identification: Character. "suspect", "filler", or "reject"
  \item confidence: Numeric. Confidence rating (optional for response categories)
}}

\item{response_categories}{Character vector specifying how to categorize responses.
Options:
\itemize{
  \item "simple": Three categories (suspect, filler, reject)
  \item "confidence": Combines identification with confidence bins
}}

\item{confidence_bins}{Numeric vector of bin edges if using confidence categories
(e.g., c(0, 60, 80, 100)). Ignored if response_categories = "simple".}

\item{prior_grid}{Numeric vector of prior probabilities to evaluate
(default: seq(0.01, 0.99, 0.01))}
}
\value{
A list containing:
  \itemize{
    \item curves: Dataframe with prior, posterior, and information gain for each response
    \item likelihoods: Dataframe with p(x|guilty) and p(x|innocent) for each response
    \item response_counts: Count of each response type by target presence
    \item n_guilty: Number of target-present lineups
    \item n_innocent: Number of target-absent lineups
  }
}
\description{
Computes Bayesian updating curves showing how different lineup responses
update beliefs about suspect guilt, following Wells, Yang, & Smalarz (2015).
}
\details{
This function treats lineup outcomes as evidence for Bayesian updating. For each
response type x (e.g., high-confidence suspect ID, rejection, etc.), it computes:

\strong{Likelihoods from observed data:}
\deqn{p(x|guilty) = \frac{count(x | target\_present)}{N_{guilty}}}
\deqn{p(x|innocent) = \frac{count(x | target\_absent)}{N_{innocent}}}

\strong{For each prior probability p(guilty):}
\deqn{p(x) = p(guilty) \cdot p(x|guilty) + (1-p(guilty)) \cdot p(x|innocent)}
\deqn{p(guilty|x) = \frac{p(guilty) \cdot p(x|guilty)}{p(x)}}

\strong{Information gain:}
\deqn{IG(x) = H(prior) - H(posterior)}

where H(p) is binary entropy.

The information gain quantifies how much uncertainty is reduced by observing
response x. Positive values indicate the response is diagnostic.
}
\references{
Wells, G. L., Yang, Y., & Smalarz, L. (2015). Eyewitness identification:
Bayesian information gain, base-rate effect-equivalency curves, and reasonable
suspicion. \emph{Law and Human Behavior, 39}(2), 99-122.
}
