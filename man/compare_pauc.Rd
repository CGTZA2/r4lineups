% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pauc_comparison.R
\name{compare_pauc}
\alias{compare_pauc}
\title{Compare pAUC Between Two ROC Curves}
\usage{
compare_pauc(
  data1,
  data2,
  lineup_size = 6,
  max_false_id_rate = NULL,
  n_bootstrap = 2000,
  conf_level = 0.95,
  seed = NULL,
  label1 = "Condition 1",
  label2 = "Condition 2"
)
}
\arguments{
\item{data1}{First dataset (dataframe with target_present, identification, confidence)}

\item{data2}{Second dataset (same format as data1)}

\item{lineup_size}{Integer. Number of people in lineup (default = 6)}

\item{max_false_id_rate}{Numeric. Maximum false ID rate for pAUC calculation (default = NULL,
which uses the maximum observed false ID rate across both conditions)}

\item{n_bootstrap}{Integer. Number of bootstrap samples (default = 2000)}

\item{conf_level}{Numeric. Confidence level for intervals (default = 0.95)}

\item{seed}{Integer. Random seed for reproducibility (default = NULL)}

\item{label1}{Character. Label for first condition (default = "Condition 1")}

\item{label2}{Character. Label for second condition (default = "Condition 2")}
}
\value{
An object of class "pauc_comparison" containing:
  \itemize{
    \item pauc1: pAUC for condition 1
    \item pauc2: pAUC for condition 2
    \item pauc_diff: Difference in pAUC (pauc1 - pauc2)
    \item se_pauc1: Bootstrap standard error for pAUC1
    \item se_pauc2: Bootstrap standard error for pAUC2
    \item se_diff: Standard error of the difference
    \item z_score: Z-statistic for difference test
    \item p_value: Two-tailed p-value
    \item ci_diff: Confidence interval for difference
    \item roc1: ROC object for condition 1
    \item roc2: ROC object for condition 2
    \item max_false_id_rate: Cutoff used for pAUC
    \item label1, label2: Condition labels
    \item n_bootstrap: Number of bootstrap samples used
  }
}
\description{
Statistically compares partial Area Under the Curve (pAUC) values between
two lineup conditions using bootstrap-based standard errors and z-tests.
Follows the methodology from pyWitness (Mickes et al., 2024).
}
\details{
This function implements a rigorous statistical test for comparing ROC curves
between two conditions (e.g., simultaneous vs. sequential lineups, different
retention intervals, etc.).

**Method:**
\enumerate{
  \item Computes pAUC for each condition (optionally up to a maximum false ID rate)
  \item Uses bootstrap resampling to estimate standard errors
  \item Computes Z-statistic: Z = (pAUC1 - pAUC2) / SE(pAUC1 - pAUC2)
  \item Calculates p-value from standard normal distribution
}

**Interpretation:**
\itemize{
  \item Positive pAUC difference: Condition 1 has better discriminability
  \item Negative pAUC difference: Condition 2 has better discriminability
  \item p < 0.05: Significant difference between conditions
}
}
\examples{
\dontrun{
# Compare simultaneous vs. sequential lineups
comparison <- compare_pauc(
  simultaneous_data,
  sequential_data,
  label1 = "Simultaneous",
  label2 = "Sequential",
  n_bootstrap = 2000
)

print(comparison)
plot(comparison)
}

}
\references{
Mickes, L., Seale-Carlisle, T. M., Chen, X., & Boogert, S. (2024). pyWitness 1.0:
A python eyewitness identification analysis toolkit. \emph{Behavior Research
Methods, 56}, 1533-1550.

Wixted, J. T., & Mickes, L. (2012). The field of eyewitness memory should
abandon probative value and embrace receiver operating characteristic analysis.
\emph{Perspectives on Psychological Science, 7}(3), 275-278.
}
