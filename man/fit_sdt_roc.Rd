% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/zroc_sdt.R
\name{fit_sdt_roc}
\alias{fit_sdt_roc}
\title{Fit Signal Detection Theory Model to ROC Data}
\usage{
fit_sdt_roc(
  data,
  lineup_size = NULL,
  model = c("equal_variance", "unequal_variance"),
  bootstrap = TRUE,
  n_bootstrap = 1000,
  conf_level = 0.95,
  seed = NULL
)
}
\arguments{
\item{data}{A dataframe with columns: target_present, identification, confidence
OR a rocdata object from make_rocdata()}

\item{lineup_size}{Integer. Number of people in lineup (required if data is dataframe)}

\item{model}{Character. "equal_variance" or "unequal_variance" (default = "equal_variance")}

\item{bootstrap}{Logical. Compute bootstrap confidence intervals? (default = TRUE)}

\item{n_bootstrap}{Integer. Number of bootstrap samples (default = 1000)}

\item{conf_level}{Numeric. Confidence level for intervals (default = 0.95)}

\item{seed}{Integer. Random seed for reproducibility (default = NULL)}
}
\value{
An S3 object of class "sdt_roc_fit" containing:
  \itemize{
    \item dprime: Overall discriminability (d')
    \item criteria: Decision criterion for each confidence level (c values)
    \item variance_ratio: Ratio of target SD to lure SD (if unequal_variance)
    \item slope: Slope of z-ROC
    \item intercept: Intercept of z-ROC
    \item roc_data: Original ROC data with z-transforms
    \item model_type: Type of model fit
    \item bootstrap_ci: Confidence intervals (if bootstrap = TRUE)
    \item fit_diagnostics: R-squared, residuals, etc.
  }
}
\description{
Fits an equal-variance or unequal-variance SDT model to ROC data using
z-ROC analysis. Extracts discriminability (d'), decision criteria (c),
and optionally the target/lure variance ratio.
}
\details{
**z-ROC Analysis**:

The z-ROC is created by plotting z-transformed hit rates against
z-transformed false alarm rates for each confidence level.

Under equal-variance SDT:
- z-ROC should be linear with slope = 1
- d' = z(HR) - z(FAR) for any criterion
- Intercept = d' / sqrt(2)

Under unequal-variance SDT:
- Slope = SD_lure / SD_target
- Slope > 1 indicates greater variability in lure distribution

**Parameter Estimation**:
- d' = average distance between distributions in standard deviation units
- c = decision criterion (0 = unbiased, positive = conservative, negative = liberal)
- Higher d' = better discriminability

**Bootstrap Confidence Intervals**:
If bootstrap = TRUE, resamples data with replacement to estimate
standard errors and confidence intervals for all parameters.
}
\examples{
\dontrun{
# Simulate data
sim_data <- simulate_lineup_data(
  n_tp = 200, n_ta = 200,
  d_prime = 1.5,
  conf_levels = 5
)

# Fit equal-variance SDT model
sdt_fit <- fit_sdt_roc(sim_data, lineup_size = 6)
print(sdt_fit)
plot(sdt_fit)

# Get d' estimate
sdt_fit$dprime

# Fit unequal-variance model
sdt_uv <- fit_sdt_roc(sim_data, lineup_size = 6, model = "unequal_variance")
sdt_uv$variance_ratio
}

}
\references{
Macmillan, N. A., & Creelman, C. D. (2005). Detection theory: A user's guide (2nd ed.).

Mickes, L. (2015). Receiver operating characteristic analysis and confidence-accuracy
characteristic analysis in investigations of system variables. Journal of Applied
Research in Memory and Cognition, 4(2), 93-102.
}
