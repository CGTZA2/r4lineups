---
title: "SDT Summary-Level Comparisons"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{SDT Summary-Level Comparisons}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

# Overview

This vignette shows how to compare **conditions using only summary SDT counts**
(hits, false alarms, misses, correct rejections). The methods follow
Gourevitch & Galanter (1967), Miller (1996), and Suero et al. (2017), with an
optional bootstrap variance approach based on the Tredoux et al. supplemental
materials in `notes/11292_2020_9432_MOESM1_ESM.docx`.

Use these tools when **trial‑level data are unavailable** and you only have
summary counts for each condition.

# Summary metrics from counts

```{r}
library(r4lineups)

# Condition A counts
hits_a <- 34
fas_a <- 6
misses_a <- 16
cr_a <- 44

summ_a <- sdt_summary_from_counts(hits_a, fas_a, misses_a, cr_a)
summ_a
```

# Variance estimation

Miller’s exact‑binomial method is recommended for most cases:

```{r}
var_a_miller <- sdt_summary_variance(hits_a, fas_a, misses_a, cr_a, method = "miller")
var_a_miller
```

Gourevitch & Galanter’s delta method is faster but more approximate:

```{r}
var_a_gouv <- sdt_summary_variance(hits_a, fas_a, misses_a, cr_a, method = "gourevitch")
var_a_gouv
```

Bootstrap variance can also be used:

```{r}
set.seed(1)
var_a_boot <- sdt_summary_variance(hits_a, fas_a, misses_a, cr_a,
                                   method = "bootstrap", nboot = 1000)
var_a_boot
```

# Comparing two conditions

```{r}
# Condition B counts
hits_b <- 28
fas_b <- 10
misses_b <- 22
cr_b <- 40

compare_sdt_summary(hits_a, fas_a, misses_a, cr_a,
                    hits_b, fas_b, misses_b, cr_b,
                    metric = "dprime",
                    method = "miller")
```

You can also compare **criterion** or **lnβ**:

```{r}
compare_sdt_summary(hits_a, fas_a, misses_a, cr_a,
                    hits_b, fas_b, misses_b, cr_b,
                    metric = "c",
                    method = "bootstrap",
                    nboot = 2000)
```

# Notes

- Extreme rates (0 or 1) are corrected by default (loglinear).
- If only **published d′ or β** are available, you need a reported **SE/variance**
  to compare conditions. Without counts or SEs, z‑tests are not identifiable.
